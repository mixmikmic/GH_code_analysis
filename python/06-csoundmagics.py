get_ipython().magic('load_ext csoundmagics')

get_ipython().run_cell_magic('csd', 'crossfm', '<CsoundSynthesizer>\n\n<CsOptions>\n  -d -o dac\n</CsOptions>\n\n<CsInstruments>\nsr     = 48000\nksmps  = 100\nnchnls = 2\n0dbfs  = 1\n\n          instr 1\nidur       =          p3 \niamp       =          p4 \nifrq1      =          p5 \nifrq2      =          p6 \nindx1      =          p7 \nindx2      =          p8 \nkenv       linen      iamp, 0.05, idur, 0.2 \na1, a2     crossfm    ifrq1, ifrq2, indx1, indx2, 1, 1, 1 \n           outs       a1*kenv, a2*kenv \n          endin\n\n          instr 2\nkx         init       0.0 \nkdx        init       0.1 \nkdur       init       p4 \nkamp       init       p5 \nkndx       init       0 \nkmax       init       p6 \nkfq1       init       440.0 \nkfq2       init       557.0 \nknx1       init       3.5 \nknx2       init       4.8 \n           event      "i", 1, kx, kdur, kamp, kfq1, kfq2, knx1, knx2 \nkx         =          kx + kdx \nknx1       =          knx1 - 0.025 \nknx2       =          knx2 - 0.075 \nkndx       =          kndx + 1 \nif (kndx <= kmax) kgoto nextone\n           turnoff \nnextone: \n          endin\n</CsInstruments>\n\n<CsScore>\nf 1 0 16384 10 1 0\n\n;f 0 3600\n\ni 2 0 2 0.67 0.03 150\ni 1 15.1 1.5 0.025 440 557 -0.25 -6.45 0.05 1.2\ne\n</CsScore>\n</CsoundSynthesizer>')

print(__csd['crossfm'])

runCsd('crossfm')

get_ipython().magic('csound 0')

get_ipython().run_cell_magic('orc', '02_43_1', '; ************************************************************************\n; ACCCI:      02_43_1.ORC\n; timbre:     tibetan chant\n; synthesis:  additive same units(02)\n;             basic instrument with minimal differences in frequency(43)\n;             arpeggio instrument by Risset\n; source:     Phase6, Lorrain(1980); Boulanger(1990): risset1.orc\n; coded:      jpg 9/93\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 2\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4/9\nifq   = p5\nioff1 = p6\nioff2 = 2*p6\nioff3 = 3*p6\nioff4 = 4*p6\nirise = p7\nidec  = p8\n\n   ae  linen   iamp,irise,idur,idec   \n   a1  oscili  ae, ifq, 1\n   a2  oscili  ae, ifq+ioff1, 1  ; nine oscillators with the same ae\n   a3  oscili  ae, ifq+ioff2, 1  ; and waveform, but slightly different\n   a4  oscili  ae, ifq+ioff3, 1  ; frequencies create harmonic arpeggio \n   a5  oscili  ae, ifq+ioff4, 1\n   a6  oscili  ae, ifq-ioff1, 1\n   a7  oscili  ae, ifq-ioff2, 1\n   a8  oscili  ae, ifq-ioff3, 1\n   a9  oscili  ae, ifq-ioff4, 1\n       outs1   a1+a2+a3+a4+a5+a6+a7+a8+a9\n\nendin\n\n\ninstr 2; *****************************************************************\nidur  = p3\niamp  = p4/9\nifq   = p5\nioff1 = p6\nioff2 = 2*p6\nioff3 = 3*p6\nioff4 = 4*p6\nirise = p7\nidec  = p8\n\n   ae  linen   iamp,irise,idur,idec   \n   a1  oscili  ae, ifq, 1\n   a2  oscili  ae, ifq+ioff1, 1  ; nine oscillators with the same ae\n   a3  oscili  ae, ifq+ioff2, 1  ; and waveform, but slightly different\n   a4  oscili  ae, ifq+ioff3, 1  ; frequencies create harmonic arpeggio\n   a5  oscili  ae, ifq+ioff4, 1\n   a6  oscili  ae, ifq-ioff1, 1\n   a7  oscili  ae, ifq-ioff2, 1\n   a8  oscili  ae, ifq-ioff3, 1\n   a9  oscili  ae, ifq-ioff4, 1\n       outs2   a1+a2+a3+a4+a5+a6+a7+a8+a9\nendin')

get_ipython().run_cell_magic('sco', '02_43_1', '; ************************************************************************\n; ACCCI:      02_43_1.SCO\n; coded:      jpg 9/93\n\n\n; GEN functions **********************************************************\n\n; carrier\nf1 0 1024 10 .3 0 0 0 .1 .1 .1 .1 .1 .1\n\n\n; score ******************************************************************\n\n;    start   idur  iamp   ifq     ioff   irise   idec\ni1     0      35   8000   110     .03     .07     21     ; 1st envelope\ni2     5      20   9600    55     .02     .04     12     ;\ni2    20      15   8000   220     .05      1.5    3      ;\ni1    20      20   9600   110     .04      2      4      ;\ni1    28      30   8000   220     .04      3      6      ;  2nd env.\ni2    32      26   9600   110     .025     2.6    5.2    ;\ni1    32.1    23   8000   110     .03      2.3    4.6    ;\ni2    36      22   8000    55     .01     .04     13     ; 1st envelope\ne')

runOrcSco('02_43_1', '02_43_1')



